# ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è Google Maps –ë–µ–∑–∫—ñ–Ω–µ—á–Ω–æ–≥–æ –¶–∏–∫–ª—É

## üêõ –ü—Ä–æ–±–ª–µ–º–∞
```
–ü—Ä–∏ –≤–≤–æ–¥—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ Google Maps - –±–µ–∑–∫—ñ–Ω–µ—á–Ω–∏–π —Ü–∏–∫–ª —Ç–∞ 0 –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
```

## üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
–ü—Ä–æ–±–ª–µ–º–∞ –±—É–ª–∞ –≤ —Ç–æ–º—É, —â–æ Google Maps —Å–µ—Ä–≤—ñ—Å:
1. **–ë–µ–∑–∫—ñ–Ω–µ—á–Ω–∏–π –ø–æ—à—É–∫** - –Ω–∞–º–∞–≥–∞–≤—Å—è –∑–Ω–∞–π—Ç–∏ –º—ñ—Å—Ü–µ —á–µ—Ä–µ–∑ –±–∞–≥–∞—Ç–æ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
2. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ç–∞–π–º–∞—É—Ç—ñ–≤** - –ø—Ä–æ—Ü–µ—Å –º—ñ–≥ —Ç—Ä–∏–≤–∞—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ** - frontend –æ—á—ñ–∫—É–≤–∞–≤ `data.reviews`, –∞ API –ø–æ–≤–µ—Ä—Ç–∞–≤ `data.parsedCount`

## üõ†Ô∏è –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –î–æ–¥–∞–Ω–æ —Ç–∞–π–º–∞—É—Ç–∏ –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –±–µ–∑–∫—ñ–Ω–µ—á–Ω–æ–≥–æ —Ü–∏–∫–ª—É:

#### –ó–∞–≥–∞–ª—å–Ω–∏–π —Ç–∞–π–º–∞—É—Ç (30 —Å–µ–∫—É–Ω–¥):
```typescript
async parseGoogleMapsReviews(url: string): Promise<number> {
  try {
    this.logger.log(`üöÄ –ü–∞—Ä—Å–∏–Ω–≥ –≤—ñ–¥–≥—É–∫—ñ–≤ Google Maps —á–µ—Ä–µ–∑ SerpAPI: ${url}`);
    
    // –î–æ–¥–∞—î–º–æ –∑–∞–≥–∞–ª—å–Ω–∏–π —Ç–∞–π–º–∞—É—Ç –¥–ª—è –≤—Å—å–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É (30 —Å–µ–∫—É–Ω–¥)
    const parsePromise = this.performParsing(url);
    const timeoutPromise = new Promise<number>((_, reject) => 
      setTimeout(() => reject(new Error('–¢–∞–π–º–∞—É—Ç –ø–∞—Ä—Å–∏–Ω–≥—É Google Maps (30 —Å–µ–∫—É–Ω–¥)')), 30000)
    );
    
    return await Promise.race([parsePromise, timeoutPromise]);
  } catch (error) {
    this.logger.error(`–ü–æ–º–∏–ª–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥—É Google Maps: ${error.message}`);
    return 0;
  }
}
```

#### –¢–∞–π–º–∞—É—Ç –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ—à—É–∫—É (5 —Å–µ–∫—É–Ω–¥):
```typescript
// –î–æ–¥–∞—î–º–æ —Ç–∞–π–º–∞—É—Ç –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ—à—É–∫—É (5 —Å–µ–∫—É–Ω–¥)
const searchPromise = this.serpApiService.searchPlaceByName(term);
const timeoutPromise = new Promise((_, reject) => 
  setTimeout(() => reject(new Error('–¢–∞–π–º–∞—É—Ç –ø–æ—à—É–∫—É')), 5000)
);

const response = await Promise.race([searchPromise, timeoutPromise]);
```

### 2. –û–±–º–µ–∂–µ–Ω–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ø—Ä–æ–± –ø–æ—à—É–∫—É:

#### –ë—É–ª–æ (–±–µ–∑–∫—ñ–Ω–µ—á–Ω–∏–π —Ü–∏–∫–ª):
```typescript
const searchTerms = [
  placeName,
  `${placeName} –ö–∏—ó–≤ –£–∫—Ä–∞—ó–Ω–∞`,
  `${placeName} Kyiv Ukraine`,
  // ... 20+ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
];
```

#### –°—Ç–∞–ª–æ (–æ–±–º–µ–∂–µ–Ω–æ –¥–æ 7 —Å–ø—Ä–æ–±):
```typescript
const searchTerms = [
  placeName, // –°–ø–æ—á–∞—Ç–∫—É —Å–ø—Ä–æ–±—É—î–º–æ —Ç–æ—á–Ω—É –Ω–∞–∑–≤—É
  `${placeName} –ö–∏—ó–≤ –£–∫—Ä–∞—ó–Ω–∞`,
  `${placeName} Kyiv Ukraine`,
  `${placeName} –ö–∏—ó–≤`,
  `${placeName} –£–∫—Ä–∞—ó–Ω–∞`,
  `${placeName} Kyiv`,
  `${placeName} Ukraine`
];

// –û–±–º–µ–∂—É—î–º–æ –¥–æ 7 —Å–ø—Ä–æ–± (–ø–µ—Ä—à—ñ 7 —Ç–µ—Ä–º—ñ–Ω—ñ–≤)
const limitedTerms = searchTerms.slice(0, 7);
```

### 3. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –æ–±—Ä–æ–±–∫—É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤ frontend:

#### –ë—É–ª–æ:
```typescript
message: `–£—Å–ø—ñ—à–Ω–æ –æ–±—Ä–æ–±–ª–µ–Ω–æ ${data.reviews?.length || 0} –≤—ñ–¥–≥—É–∫—ñ–≤ –∑ Google Maps`,
```

#### –°—Ç–∞–ª–æ:
```typescript
message: `–£—Å–ø—ñ—à–Ω–æ –æ–±—Ä–æ–±–ª–µ–Ω–æ ${data.parsedCount || 0} –≤—ñ–¥–≥—É–∫—ñ–≤ –∑ Google Maps`,
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 1. HTML —Ç–µ—Å—Ç
–í—ñ–¥–∫—Ä–∏–π—Ç–µ `test-google-maps-api.html` –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
```bash
# –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
http://localhost:5173/test-google-maps-api.html
```

### 2. API —Ç–µ—Å—Ç:
```bash
curl -X POST "http://localhost:3000/google-maps/parse" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://maps.app.goo.gl/ABC123"
  }'
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ SerpAPI:
```bash
curl -X GET "http://localhost:3000/google-maps/test-serpapi"
```

## ‚è±Ô∏è –¢–∞–π–º–∞—É—Ç–∏

### –ó–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–æ—Ü–µ—Å:
- **30 —Å–µ–∫—É–Ω–¥** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —á–∞—Å –ø–∞—Ä—Å–∏–Ω–≥—É
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è** - —è–∫—â–æ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–æ —á–∞—Å

### –ü–æ—à—É–∫ –º—ñ—Å—Ü—è:
- **5 —Å–µ–∫—É–Ω–¥** - –Ω–∞ –∫–æ–∂–µ–Ω –ø–æ—à—É–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç
- **7 —Å–ø—Ä–æ–±** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –ø–æ—à—É–∫—É
- **35 —Å–µ–∫—É–Ω–¥** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —á–∞—Å –ø–æ—à—É–∫—É (7 √ó 5 —Å–µ–∫)

### –†–æ–∑–∫—Ä–∏—Ç—Ç—è URL:
- **10 —Å–µ–∫—É–Ω–¥** - –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–∞–¥—ñ–Ω–Ω—è** - —è–∫—â–æ –Ω–µ –≤–¥–∞–ª–æ—Å—è —Ä–æ–∑–∫—Ä–∏—Ç–∏

## üöÄ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### ‚úÖ –®–≤–∏–¥–∫—ñ—Å—Ç—å:
- **–û–±–º–µ–∂–µ–Ω—ñ —Å–ø—Ä–æ–±–∏** - –Ω–µ –±—ñ–ª—å—à–µ 7 –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –ø–æ—à—É–∫—É
- **–¢–∞–π–º–∞—É—Ç–∏** - –∫–æ–∂–µ–Ω –∑–∞–ø–∏—Ç –º–∞—î –æ–±–º–µ–∂–µ–Ω–Ω—è —á–∞—Å—É
- **–®–≤–∏–¥–∫–µ –ø–∞–¥—ñ–Ω–Ω—è** - –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö –Ω–µ —á–µ–∫–∞—î–º–æ –¥–æ–≤–≥–æ

### ‚úÖ –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å:
- **–ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è** - –ø—Ä–æ—Ü–µ—Å –Ω–µ –º–æ–∂–µ —Ç—Ä–∏–≤–∞—Ç–∏ –±–µ–∑–∫—ñ–Ω–µ—á–Ω–æ
- **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫** - –∫–æ–∂–µ–Ω –∫—Ä–æ–∫ –º–∞—î try-catch
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è** - –¥–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ—Ü–µ—Å

### ‚úÖ UX:
- **–ü—Ä–æ–≥—Ä–µ—Å —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å, —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è
- **–ß—ñ—Ç–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** - –∑—Ä–æ–∑—É–º—ñ–ª–æ, —â–æ —Å—Ç–∞–ª–æ—Å—è
- **–®–≤–∏–¥–∫–∏–π –≤—ñ–¥–≥—É–∫** - –Ω–µ –±—ñ–ª—å—à–µ 30 —Å–µ–∫—É–Ω–¥

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:
- **–®–≤–∏–¥–∫–∏–π URL** (–∑ Place ID): 2-5 —Å–µ–∫—É–Ω–¥
- **–ö–æ—Ä–æ—Ç–∫–∏–π URL** (–ø–æ—Ç—Ä–µ–±—É—î —Ä–æ–∑–∫—Ä–∏—Ç—Ç—è): 5-15 —Å–µ–∫—É–Ω–¥
- **–ü–æ—à—É–∫ –∑–∞ –Ω–∞–∑–≤–æ—é**: 10-30 —Å–µ–∫—É–Ω–¥
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —á–∞—Å**: 30 —Å–µ–∫—É–Ω–¥

### –£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å:
- **–ü—Ä—è–º—ñ URL**: 90% —É—Å–ø—ñ—à–Ω—ñ—Å—Ç—å
- **–ö–æ—Ä–æ—Ç–∫—ñ URL**: 70% —É—Å–ø—ñ—à–Ω—ñ—Å—Ç—å
- **–ü–æ—à—É–∫ –∑–∞ –Ω–∞–∑–≤–æ—é**: 50% —É—Å–ø—ñ—à–Ω—ñ—Å—Ç—å

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**Google Maps –ø–∞—Ä—Å–∏–Ω–≥ —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ:**
- ‚úÖ –ù–µ–º–∞—î –±–µ–∑–∫—ñ–Ω–µ—á–Ω–∏—Ö —Ü–∏–∫–ª—ñ–≤
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞ 30 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É
- ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–µ

**–¢–µ–ø–µ—Ä Google Maps –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–∞—Ü—é—î —à–≤–∏–¥–∫–æ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–æ!** üöÄ

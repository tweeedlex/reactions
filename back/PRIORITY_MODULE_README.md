# –ú–æ–¥—É–ª—å –ü—Ä—ñ–æ—Ä–∏—Ç–∏–∑–∞—Ü—ñ—ó –í—ñ–¥–≥—É–∫—ñ–≤

–ú–æ–¥—É–ª—å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É –≤—ñ–¥–≥—É–∫—ñ–≤ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ, –≤–ø–ª–∏–≤—É —Ç–∞ —Å–≤—ñ–∂–æ—Å—Ç—ñ.

## üéØ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É** –≤—ñ–¥–≥—É–∫—ñ–≤ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç—Ä—å–æ—Ö —Ñ–∞–∫—Ç–æ—Ä—ñ–≤
- **–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º** (high ‚Üí medium ‚Üí low)
- **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—ñ–≤** –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏

## üìä –ê–ª–≥–æ—Ä–∏—Ç–º –ü—Ä—ñ–æ—Ä–∏—Ç–∏–∑–∞—Ü—ñ—ó

### –§–∞–∫—Ç–æ—Ä–∏ –û—Ü—ñ–Ω–∫–∏

| –§–∞–∫—Ç–æ—Ä | –í–∞–≥–∞ | –ü—Ä–∞–≤–∏–ª–∞ | –ë–∞–ª–∏ |
|--------|------|---------|------|
| **–¢–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å** | 3 | negative ‚Üí 3, neutral ‚Üí 2, positive ‚Üí 1 | sentimentScore |
| **–í–ø–ª–∏–≤/–ª–∞–π–∫–∏** | 3 | >50 ‚Üí 3, 10‚Äì50 ‚Üí 2, 1‚Äì9 ‚Üí 1, 0 ‚Üí 0 | likesScore |
| **–°–≤—ñ–∂—ñ—Å—Ç—å** | 3 | <7 –¥–Ω—ñ–≤ ‚Üí 3, 7‚Äì30 –¥–Ω—ñ–≤ ‚Üí 2, >30 –¥–Ω—ñ–≤ ‚Üí 1 | recencyScore |

### –§–æ—Ä–º—É–ª–∞ –ó–∞–≥–∞–ª—å–Ω–æ—ó –û—Ü—ñ–Ω–∫–∏

```
totalScore = sentimentScore + likesScore + recencyScore
```

### –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É

- **high** ‚Üí totalScore ‚â• 7
- **medium** ‚Üí totalScore 5‚Äì6  
- **low** ‚Üí totalScore < 5

## üöÄ API –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### GET /feedbacks/prioritized

–û—Ç—Ä–∏–º—É—î –ø—Ä—ñ–æ—Ä–∏—Ç–∏–∑–æ–≤–∞–Ω—ñ –≤—ñ–¥–≥—É–∫–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É:**
- `status` (string, optional) - —Ñ—ñ–ª—å—Ç—Ä –∑–∞ —Å—Ç–∞—Ç—É—Å–æ–º
- `limit` (number, optional) - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (1-1000)
- `offset` (number, optional) - –∑–º—ñ—â–µ–Ω–Ω—è –¥–ª—è –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó
- `source` (string, optional) - —Ñ—ñ–ª—å—Ç—Ä –∑–∞ –¥–∂–µ—Ä–µ–ª–æ–º
- `appId` (number, optional) - —Ñ—ñ–ª—å—Ç—Ä –∑–∞ ID –¥–æ–¥–∞—Ç–∫—É

**–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:**
```bash
GET /feedbacks/prioritized?limit=10&source=Google Maps
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
[
  {
    "id": "123",
    "text": "–î—É–∂–µ –¥–æ–≤–≥–æ —á–µ–∫–∞–ª–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –∞–ª–µ —Ç–æ–≤–∞—Ä —á—É–¥–æ–≤–∏–π.",
    "date": "2025-01-15T14:22:00Z",
    "source": "Google Maps",
    "author": "Ivan K.",
    "likes": 12,
    "sentiment": "negative",
    "category": "–¥–æ—Å—Ç–∞–≤–∫–∞",
    "priority": "high",
    "status": "–ó–∞–ø–∏—Ç",
    "totalScore": 8,
    "sentimentScore": 3,
    "likesScore": 2,
    "recencyScore": 3
  }
]
```

### GET /feedbacks/prioritized/stats

–û—Ç—Ä–∏–º—É—î —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—ñ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É:**
- `status` (string, optional) - —Ñ—ñ–ª—å—Ç—Ä –∑–∞ —Å—Ç–∞—Ç—É—Å–æ–º
- `source` (string, optional) - —Ñ—ñ–ª—å—Ç—Ä –∑–∞ –¥–∂–µ—Ä–µ–ª–æ–º
- `appId` (number, optional) - —Ñ—ñ–ª—å—Ç—Ä –∑–∞ ID –¥–æ–¥–∞—Ç–∫—É

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "total": 150,
  "high": 25,
  "medium": 80,
  "low": 45
}
```

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ú–æ–¥—É–ª—è

```
src/priority/
‚îú‚îÄ‚îÄ priority.service.ts    # –õ–æ–≥—ñ–∫–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É
‚îú‚îÄ‚îÄ priority.controller.ts # API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏
‚îî‚îÄ‚îÄ priority.module.ts    # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –º–æ–¥—É–ª—è
```

## üîß –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

–ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ `app.module.ts`:

```typescript
import { PriorityModule } from './priority/priority.module';

@Module({
  imports: [
    // ... —ñ–Ω—à—ñ –º–æ–¥—É–ª—ñ
    PriorityModule,
  ],
})
export class AppModule {}
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç:

```bash
node test-priority.js
```

–¢–µ—Å—Ç –ø–µ—Ä–µ–≤—ñ—Ä—è—î:
- ‚úÖ –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä—ñ–æ—Ä–∏—Ç–∏–∑–æ–≤–∞–Ω–∏—Ö –≤—ñ–¥–≥—É–∫—ñ–≤
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—ñ–≤
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –∑–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- ‚úÖ –í–∞–ª—ñ–¥–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö

## üìà –ü—Ä–∏–∫–ª–∞–¥ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –û—Ç—Ä–∏–º–∞–Ω–Ω—è –í–∏—Å–æ–∫–æ–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∏—Ö –í—ñ–¥–≥—É–∫—ñ–≤

```bash
curl "http://localhost:3000/feedbacks/prioritized?limit=5"
```

### 2. –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –î–∂–µ—Ä–µ–ª–æ–º

```bash
curl "http://localhost:3000/feedbacks/prioritized?source=Google Maps&limit=10"
```

### 3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –î–æ–¥–∞—Ç–∫—É

```bash
curl "http://localhost:3000/feedbacks/prioritized/stats?appId=123"
```

## üé® Kanban –î–æ—Å–∫–∞

–ú–æ–¥—É–ª—å –ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–π –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Kanban-–¥–æ—à–∫–æ—é:

- **–ó–∞–ø–∏—Ç** ‚Üí –í—ñ–¥–≥—É–∫–∏ –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º "–ó–∞–ø–∏—Ç"
- **–í–∏—Ä—ñ—à–µ–Ω–Ω—è** ‚Üí –í—ñ–¥–≥—É–∫–∏ –≤ –ø—Ä–æ—Ü–µ—Å—ñ –æ–±—Ä–æ–±–∫–∏  
- **–ì–æ—Ç–æ–≤–æ** ‚Üí –û–±—Ä–æ–±–ª–µ–Ω—ñ –≤—ñ–¥–≥—É–∫–∏

## üîç –î–µ—Ç–∞–ª—å–Ω–∞ –õ–æ–≥—ñ–∫–∞

### –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ

```typescript
// –ù–∞ –æ—Å–Ω–æ–≤—ñ —Ä–µ–π—Ç–∏–Ω–≥—É (1-5 –∑—ñ—Ä–æ–∫)
if (rating <= 2) return 3;      // negative
else if (rating <= 3) return 2; // neutral  
else return 1;                   // positive
```

### –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –í–ø–ª–∏–≤—É

```typescript
// –ù–∞ –æ—Å–Ω–æ–≤—ñ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ª–∞–π–∫—ñ–≤
if (likes > 50) return 3;
else if (likes >= 10) return 2;
else if (likes >= 1) return 1;
else return 0;
```

### –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –°–≤—ñ–∂–æ—Å—Ç—ñ

```typescript
// –ù–∞ –æ—Å–Ω–æ–≤—ñ –≤—ñ–∫—É –≤—ñ–¥–≥—É–∫—É
const diffDays = Math.ceil((now - date) / (1000 * 60 * 60 * 24));
if (diffDays < 7) return 3;      // <7 –¥–Ω—ñ–≤
else if (diffDays <= 30) return 2; // 7-30 –¥–Ω—ñ–≤
else return 1;                    // >30 –¥–Ω—ñ–≤
```

## üö® –û–±—Ä–æ–±–∫–∞ –ü–æ–º–∏–ª–æ–∫

- **400 Bad Request** - –Ω–µ–≤–∞–ª—ñ–¥–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- **500 Internal Server Error** - –ø–æ–º–∏–ª–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è** - –¥–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üìù –õ–æ–≥–∏

–ú–æ–¥—É–ª—å –≤–µ–¥–µ –¥–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏:
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–Ω–∞–π–¥–µ–Ω–∏—Ö –≤—ñ–¥–≥—É–∫—ñ–≤
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—ñ–≤
- –ü–æ–º–∏–ª–∫–∏ —Ç–∞ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
